<html>
	<head>
        <title>네이비필드 연사속도 계산기 KR server</title>
    </head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        body {font-family: "Lato", sans-serif}
        .mySlides {display: none}
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6857135903814462" crossorigin="anonymous"></script>

	<body>
        <!-- Navbar -->
        <div class="w3-top">
            <div class="w3-bar w3-black w3-card">
                <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
                <a href="../" class="w3-bar-item w3-button w3-padding-large">Navyfield Simulator &nbsp;&nbsp;&nbsp; by g_dori</a>
                <a href="https://nfsim.blogspot.com/" class="w3-bar-item w3-button w3-padding-large w3-hide-small">BLOG</a>
                <a href="https://gall.dcinside.com/board/view/?id=nf&no=363613" class="w3-bar-item w3-button w3-padding-large w3-hide-small">코코마지침서</a>
                <div class="w3-dropdown-hover w3-hide-small">
                    <button class="w3-padding-large w3-button" title="More">수병계산기 <i class="fa fa-caret-down"></i></button>     
                    <div class="w3-dropdown-content w3-bar-block w3-card-4">
                        <a href="../" class="w3-bar-item w3-button">수병계산기 KR server</a>
                        <a href="../Global/" class="w3-bar-item w3-button">수병계산기 Global server</a>
                    </div>
                </div>
                <div class="w3-dropdown-hover w3-hide-small">
                    <button class="w3-padding-large w3-button" title="More">그 외 계산기<i class="fa fa-caret-down"></i></button>     
                    <div class="w3-dropdown-content w3-bar-block w3-card-4">
                        <a href="./" class="w3-bar-item w3-button">연사속도 계산기</a>
                        <a href="https://nfsim.blogspot.com/2021/05/blog-post_5.html" class="w3-bar-item w3-button">함선전체 수리/기관 계산기</a>
                        <a href="../Pompom/" class="w3-bar-item w3-button">폼폼이 만연사 계산기</a>
                        <a href="../Guideline/" class="w3-bar-item w3-button">함장 빨랫줄 계산기</a>
                    </div>
                </div>
                <div class="w3-dropdown-hover w3-hide-small">
                    <button class="w3-padding-large w3-button" title="More">정보<i class="fa fa-caret-down"></i></button>     
                    <div class="w3-dropdown-content w3-bar-block w3-card-4">
                        <a href="https://nfsim.blogspot.com/2021/10/blog-post.html" class="w3-bar-item w3-button">연사속도공식</a>
                        <a href="https://nfsim.blogspot.com/2021/04/blog-post_88.html" class="w3-bar-item w3-button">찰기건너뛰기 전직</a>
                        <a href="https://nfsim.blogspot.com/2021/05/2.html" class="w3-bar-item w3-button">갑판병효율</a>
                        <a href="https://nfsim.blogspot.com/2021/05/blog-post_3.html" class="w3-bar-item w3-button">이벤트수병의 초기어빌</a>
                        <a href="https://nfsim.blogspot.com/2021/05/1.html" class="w3-bar-item w3-button">영국 연사포병 늦전직</a>
                        <a href="https://nfsim.blogspot.com/2021/05/blog-post.html" class="w3-bar-item w3-button">함포 연사속도 단위</a>
                    </div>
                </div>
                <!-- Start of CuterCounter Code -->
                <img src="https://www.cutercounter.com/hits.php?id=hvvxaddan&nd=7&style=2">
                <!-- End of CuterCounter Code -->
                <a href="javascript:void(0)" class="w3-padding-large w3-hover-red w3-hide-small w3-right"><i class="fa fa-search"></i></a>
            </div>
        </div>

        <!-- Navbar on small screens (remove the onclick attribute if you want the navbar to always show on top of the content when clicking on the links) -->
        <div id="navDemo" class="w3-bar-block w3-black w3-hide w3-hide-large w3-hide-medium w3-top" style="margin-top:46px">
            <a href="../" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">수병계산기 KR server</a>
            <a href="../Global" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">수병계산기 Global server</a>
            <a href="./" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">연사속도 계산기</a>
            <a href="../Pompom/" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">폼폼이 만연사 계산기</a>
            <a href="../Guideline/" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">함장 빨랫줄 계산기</a>
            <a href="https://nfsim.blogspot.com/" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">NF정보 BLOG</a>
            <a href="https://gall.dcinside.com/board/view/?id=nf&no=363613" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">코코마지침서</a>
        </div>




        <div class="w3-content" style="max-width:2000px;margin-top:46px">





        <h1>연사속도 계산기 KR server</h1>
        by g_dori # DCinside 네이비필드갤러리
        <br>
        <br>
        <form name="sailor_search">
            <h4>포병정보 입력</h4>
            <table cellpadding="5" cellspacing="0" border="1" style="border-collapse:collapse; border:1px gray solid;">
                <tr>
                    <td>                        
                    </td>
                    <td>
                        포병1
                    </td>
                    <td>
                        포병2
                    </td>
                </tr>
                <tr>
                    <td>
                        연사어빌
                    </td>
                    <td>
                        <input type="number" id="reloadabil1" min="0" max="5000" size="2">
                    </td>
                    <td>
                        <input type="number" id="reloadabil2" min="0" max="5000" size="2">
                    </td>
                </tr>
                <tr>
                    <td>
                        수리어빌
                    </td>
                    <td>
                        <input type="number" id="repairabil1" min="0" max="5000" size="2">
                    </td>
                    <td>
                        <input type="number" id="repairabil2" min="0" max="5000" size="2">
                    </td>
                </tr>
                <tr>
                    <td>
                        수병수
                    </td>
                    <td>
                        <input type="number" id="sailornum1" min="0" max="1200" size="2">
                    </td>
                    <td>
                        <input type="number" id="sailornum2" min="0" max="1200" size="2">
                    </td>
                </tr>
                <tr>
                    <td>
                        사관수
                    </td>
                    <td>
                        <input type="number" id="vetnum1" min="0" max="600" size="2">
                    </td>
                    <td>
                        <input type="number" id="vetnum2" min="0" max="600" size="2">
                    </td>
                </tr>
                <tr>
                    <td>
                        숙련병수
                    </td>
                    <td>
                        <input type="number" id="expnum1" min="0" max="1200" size="2">
                    </td>
                    <td>
                        <input type="number" id="expnum2" min="0" max="1200" size="2">
                    </td>
                </tr>
                <tr>
                    <td>
                        신병수
                    </td>
                    <td>
                        <input type="number" id="newnum1" min="0" max="1200" size="2">
                    </td>
                    <td>
                        <input type="number" id="newnum2" min="0" max="1200" size="2">
                    </td>
                </tr>

            </table>
            <br>

            <h4>갑판병정보 입력</h4>
            <table cellpadding="5" cellspacing="0" border="1" style="border-collapse:collapse; border:1px gray solid;">
                <tr>
                    <td>
                    </td>
                    <td>
                        갑판병1
                    </td>
                    <td>
                        갑판병2
                    </td>
                    <td>
                        갑판병3
                    </td>
                </tr>
                <tr>
                    <td>
                        연사어빌
                    </td>
                    <td>
                        <input type="number" id="mateabil1" min="0" max="200" size="2">
                    </td>
                    <td>
                        <input type="number" id="mateabil2" min="0" max="200" size="2">
                    </td>
                    <td>
                        <input type="number" id="mateabil3" min="0" max="200" size="2">
                    </td>
                </tr>
            </table>
            <br>

            <h4>함포정보 입력</h4>
            <table cellpadding="5" cellspacing="0" border="1" style="border-collapse:collapse; border:1px gray solid;">
                <tr>
                    <td>
                    </td>
                    <td>
                        함포1
                    </td>
                    <td>
                        함포2
                    </td>
                </tr>
                <tr>
                    <td>
                        함포연사속도
                    </td>
                    <td>
                        <input type="number" id="gunreload1" min="0" max="100" size="3">
                    </td>
                    <td>
                        <input type="number" id="gunreload2" min="0" max="100" size="3">
                    </td>
                </tr>
            </table>
        </form>



        <h3><button onclick="get_result()">실행</button></h3>
        <br>
        <br>
        <h3>계산결과</h3>
        <table cellpadding="5" cellspacing="0" border="1" style="border-collapse:collapse; border:1px gray solid;">
            <tr>
                <td colspan="2"></td>
                <td>포병1</td>
                <td>포병2</td>
            </tr>
            <tr>
                <td colspan="2">수병빈혈도 [%]</td>
                <td><span id="SR1"></span></td>
                <td><span id="SR2"></span></td>
            </tr>
            <tr>
                <td colspan="2">수리속도 [/s]</td>
                <td><span id="RS1"></span></td>
                <td><span id="RS2"></span></td>
            </tr>
            <tr>
                <td colspan="2">연사구간(포병)</td>
                <td><span id="RC1"></span></td>
                <td><span id="RC2"></span></td>
            </tr>
            <tr>
                <td colspan="2">연사구간상승 필요보정율 [%]</td>
                <td><span id="RU1"></span></td>
                <td><span id="RU2"></span></td>
            </tr>
            <tr>
                <td colspan="2">갑판병탑승인원</td>
                <td colspan="2"><span id="maten"></span></td>
            </tr>
            <tr>
                <td colspan="2">갑판병보정율 [%]</td>
                <td colspan="2"><span id="matetotal"></span></td>
            </tr>
            <tr>
                <td colspan="2">연사구간(포병+갑판)</td>
                <td><span id="RCM1"></span></td>
                <td><span id="RCM2"></span></td>
            </tr>
            <tr>
                <td rowspan="2">함포1</td>
                <td>연사속도(포병) [s]</td>
                <td><span id="reloadT11"></span></td>
                <td><span id="reloadT12"></span></td>
            </tr>
            <tr>
                <td>연사속도(포병+갑판) [s]</td>
                <td><span id="reloadTM11"></span></td>
                <td><span id="reloadTM12"></span></td>
            </tr>
            <tr>
                <td rowspan="2">함포2</td>
                <td>연사속도(포병) [s]</td>
                <td><span id="reloadT21"></span></td>
                <td><span id="reloadT22"></span></td>
            </tr>
            <tr>
                <td>연사속도(포병+갑판) [s]</td>
                <td><span id="reloadTM21"></span></td>
                <td><span id="reloadTM22"></span></td>
            </tr>
        </table>

        <span id="tentativeout"></span>
        &nbsp;&nbsp;※평균 연사속도의 예)  
		<br>
        &nbsp;&nbsp;&nbsp;&nbsp;　　avg 2.12s ->  2.16s - 2.16s - 2.16s - 2.16s - 1.92s - 2.16s - ...  
		<br>
        &nbsp;&nbsp;&nbsp;&nbsp;　　avg 0.24s = 레이저 -> 0.24s - 0.24s - 0.24s - 0.24s - 0.24s - 0.24s - ... 
		<br>
        &nbsp;&nbsp;&nbsp;&nbsp;　　avg 0.28s = 5~6연발 -> 0.24s - 0.24s - 0.24s - 0.24s - 0.24s - 0.48s - ... 
		<br>
        <span id="tentativeout1"></span>
	</body>



    <script type="text/javascript">

		var origUrl = "https://script.google.com/macros/s/AKfycbwAqd78Yftsnd0xLAs6JfOUNDx2HggsAUgn0L1Cjjp1N__I4L6M/exec?";
		var params = {};
		params["nationinput"] = "";
		params["treeinput"] = "";
		params["reloadinput"] = "";

        function gen_url(){
			var param = "input=" + params["nationinput"] + " - " + params["treeinput"] + "&input2=" + params["reloadinput"];
			var encoderUrl = encodeURI(origUrl + param);
			return encoderUrl
		}

		function get_result(){
			var encoderUrl = gen_url();
            var reloadcutdata = [];

			fetch(encoderUrl)
			.then(response => response.json())
			.then(response => {

                reloadcutdata = response["data"]["reloadcut"];

                //입력초기어빌가져오기
                var reloadabilip1 = document.getElementById("reloadabil1").value*1;
                var reloadabilip2 = document.getElementById("reloadabil2").value*1;

                var repairabilip1 = document.getElementById("repairabil1").value*1;
                var repairabilip2 = document.getElementById("repairabil2").value*1;

                var sailornumip1 = document.getElementById("sailornum1").value*1;
                var sailornumip2 = document.getElementById("sailornum2").value*1;
                var vetnumip1 = document.getElementById("vetnum1").value*1;
                var vetnumip2 = document.getElementById("vetnum2").value*1;
                var expnumip1 = document.getElementById("expnum1").value*1;
                var expnumip2 = document.getElementById("expnum2").value*1;
                var newnumip1 = document.getElementById("newnum1").value*1;
                var newnumip2 = document.getElementById("newnum2").value*1;

                //입력Lv가져오기
                var mateip = [];
                var mate = [];
                var mate_n = 0;
                var matetotal_calc = 0;
                mateip[0] = document.getElementById("mateabil1").value*1;
                mateip[1] = document.getElementById("mateabil2").value*1;
                mateip[2] = document.getElementById("mateabil3").value*1;

                for(i=0; i<mateip.length; i++){
                    if(mateip[i] > 200){
                        alert("갑판병 어빌을 올바르게 입력하십시오")
                    }
                    if(mateip[i] > 0){
                        mate_n = mate_n + 1 ;
                        mate[i] = Math.floor(mateip[i]/21);
                        matetotal_calc = matetotal_calc + mate[i];
                    }
                }
                document.getElementById("maten").innerHTML = mate_n;

                var sailorratio1 = (vetnumip1 + expnumip1 + newnumip1) / (sailornumip1);
                document.getElementById("SR1").innerHTML = Math.floor(sailorratio1*1000) / 10 ;
                if(sailorratio1 > 1){
                        alert("포병1의 수병수가 사관/숙련병/신병의 합보다 많습니다")
                }
                var sailorratio2 = (vetnumip2 + expnumip2 + newnumip2) / (sailornumip2);
                document.getElementById("SR2").innerHTML = Math.floor(sailorratio2*1000) / 10 ;
                if(sailorratio2 > 1){
                        alert("포병2의 수병수가 사관/숙련병/신병의 합보다 많습니다")
                }

                //수리속도
                document.getElementById("RS1").innerHTML = Math.floor(Math.floor(repairabilip1*(vetnumip1*4 + expnumip1)*sailorratio1/480)/25.6)/10;
                document.getElementById("RS2").innerHTML = Math.floor(Math.floor(repairabilip2*(vetnumip2*4 + expnumip2)*sailorratio2/480)/25.6)/10;

                document.getElementById("tentativeout").innerHTML = sailorratio1;

                //연사어빌 배열준비 + 리얼어빌ip
                var reloadcalc = new Array(2);
                    reloadcalc[0] = reloadabilip1 * ( vetnumip1 * 4 + expnumip1 ) * sailorratio1;
                    reloadcalc[1] = reloadabilip2 * ( vetnumip2 * 4 + expnumip2 ) * sailorratio2;

                var reloadcalcm = new Array(2);


                if(mate_n > 0){
                    document.getElementById("matetotal").innerHTML = Math.floor(matetotal_calc/Math.sqrt(mate_n));
                    reloadcalcm[0] = reloadcalc[0] * (Math.floor(matetotal_calc/Math.sqrt(mate_n))+100) / 100 ;
                    reloadcalcm[1] = reloadcalc[1] * (Math.floor(matetotal_calc/Math.sqrt(mate_n))+100) / 100 ;
                }


                var reload_ip1 = document.getElementById("gunreload1").value*1;
                var reload_ip2 = document.getElementById("gunreload2").value*1;

                //연사어빌컷 구간 판정용 배열준비
                var reloadcutcalc = new Array(2);
                    for(i=0; i<reloadcutcalc.length; i++){
                        reloadcutcalc[i] = 0;
                    }

                    //연사구간판정
                    for(i=0; i<reloadcalc.length; i++){
                        for(j=0; j<reloadcutdata.length; j++){
                            if(reloadcutdata[j]+70 < reloadcalc[i]){
                                    reloadcutcalc[i] = reloadcutcalc[i] + 1;
                            }
                        }
                    }
                var reloadcutcalcm = new Array(2);
                    for(i=0; i<reloadcutcalcm.length; i++){
                        reloadcutcalcm[i] = 0;
                    }

                    //연사구간판정
                    for(i=0; i<reloadcalcm.length; i++){
                        for(j=0; j<reloadcutdata.length; j++){
                            if(reloadcutdata[j]+70 < reloadcalcm[i]){
                                    reloadcutcalcm[i] = reloadcutcalcm[i] + 1;
                            }
                        }
                    }

                    //연사구간
                    if(reloadcalc[0]>0){
                    document.getElementById("RC1").innerHTML = reloadcutcalc[0];
                    document.getElementById("RU1").innerHTML = Math.ceil(reloadcutdata[reloadcutcalc[0]]/reloadcalc[0]*100 - 100);
                        if(mate_n > 0){
                        document.getElementById("RCM1").innerHTML = reloadcutcalcm[0];
                        }
                        if(reload_ip1 > 0){
                        document.getElementById("reloadT11").innerHTML = Math.round(Math.floor(reload_ip1*25*0.01*(101 - reloadcutcalc[0]))*1.3 + 1.87)/25;
                        document.getElementById("reloadTM11").innerHTML = Math.round(Math.floor(reload_ip1*25*0.01*(101 - reloadcutcalcm[0]))*1.3 + 1.87)/25;
                        }
                        if(reload_ip2 > 0){
                        document.getElementById("reloadT21").innerHTML = Math.round(Math.floor(reload_ip2*25*0.01*(101 - reloadcutcalc[0]))*1.3 + 1.87)/25;
                        document.getElementById("reloadTM21").innerHTML = Math.round(Math.floor(reload_ip2*25*0.01*(101 - reloadcutcalcm[0]))*1.3 + 1.87)/25;
                        }
                    }
                    if(reloadcalc[1]>0){
                    document.getElementById("RC2").innerHTML = reloadcutcalc[1];
                    document.getElementById("RU2").innerHTML = Math.ceil(reloadcutdata[reloadcutcalc[1]]/reloadcalc[1]*100 - 100);
                        if(mate_n > 0){
                        document.getElementById("RCM2").innerHTML = reloadcutcalcm[1];
                        }
                        if(reload_ip1 > 0){
                        document.getElementById("reloadT12").innerHTML = Math.round(Math.floor(reload_ip1*25*0.01*(101 - reloadcutcalc[1]))*1.3 + 1.87)/25;
                        document.getElementById("reloadTM12").innerHTML = Math.round(Math.floor(reload_ip1*25*0.01*(101 - reloadcutcalcm[1]))*1.3 + 1.87)/25;
                        }
                        if(reload_ip2 > 0){
                        document.getElementById("reloadT22").innerHTML = Math.round(Math.floor(reload_ip2*25*0.01*(101 - reloadcutcalc[1]))*1.3 + 1.87)/25;
                        document.getElementById("reloadTM22").innerHTML = Math.round(Math.floor(reload_ip2*25*0.01*(101 - reloadcutcalcm[1]))*1.3 + 1.87)/25;
                        }
                    }

            }
			);
		}


                // Automatic Slideshow - change image every 4 seconds
                var myIndex = 0;
                carousel();

                function carousel() {
                var i;
                var x = document.getElementsByClassName("mySlides");
                for (i = 0; i < x.length; i++) {
                    x[i].style.display = "none";  
                }
                myIndex++;
                if (myIndex > x.length) {myIndex = 1}    
                x[myIndex-1].style.display = "block";  
                setTimeout(carousel, 4000);    
                }

                // Used to toggle the menu on small screens when clicking on the menu button
                function myFunction() {
                var x = document.getElementById("navDemo");
                if (x.className.indexOf("w3-show") == -1) {
                    x.className += " w3-show";
                } else { 
                    x.className = x.className.replace(" w3-show", "");
                }
                }

                // When the user clicks anywhere outside of the modal, close it
                var modal = document.getElementById('ticketModal');
                window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
                }
	</script>

</html>



